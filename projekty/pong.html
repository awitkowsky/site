<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Prosta gra w Pong, w której gracz kontroluje paletkę za pomocą myszy,
 * a przeciwnik sterowany jest automatycznie.
 * 
 * Gra kończy się, gdy piłka dotknie dolnej lub górnej krawędzi ekranu.
 * Przeciwnik śledzi pozycję piłki, a jej prędkość stopniowo wzrasta w trakcie gry.
 * 
 * @author Antoni
 * @version 1.0
 */

let interwal; // Zmienna przechowująca interwał gry
let pierwszeUruchomienie = true; // Flaga określająca, czy gra się już rozpoczęła

// WSPÓŁRZĘDNE
let kierunekPoziomo, kierunekPionowo; // Kierunki ruchu piłki
let i, j;           // Współrzędne piłki
let x, y;           // Współrzędne myszy (gracza)
let przeciwnik;     // Współrzędne przeciwnika

// PRĘDKOŚĆ
let predkosc = 2;               // Początkowa prędkość piłki
let predkoscPrzeciwnika = 5;    // Początkowa prędkość przeciwnika
let przyspieszenie = 0.005;     // Stopniowe przyspieszanie piłki

// WIELKOŚCI
let szerokoscPaletek = 150;   // Szerokość paletek gracza i przeciwnika
let rozmiarPilki = 8;         // Rozmiar piłki

/**
 * Konwertuje kąt w stopniach na radiany.
 * @param {number} kat - Kąt w stopniach.
 * @returns {number} - Kąt w radianach.
 */
function katToRad(kat) {
    return kat * (Math.PI / 180);
}

/**
 * Rysuje elementy gry na canvasie, w tym piłkę, paletki i tło.
 */
function draw() {
    let canvas = document.getElementById('canvas');
    if (canvas.getContext) {
        let c = canvas.getContext('2d');

        // Czyszczenie ekranu
        c.fillStyle = 'rgb(255,255,255)';
        c.fillRect(0, 0, 1000, 800);
        c.strokeRect(0, 0, 1000, 800);

        // Rysowanie paletki gracza
        c.fillStyle = 'rgb(0,0,0)';
        c.fillRect(x - szerokoscPaletek / 2, 770, szerokoscPaletek, 10);

        // Rysowanie paletki przeciwnika
        c.fillRect(przeciwnik - szerokoscPaletek / 2, 20, szerokoscPaletek, 10);

        // Rysowanie piłki
        c.beginPath();
        c.arc(i, j, rozmiarPilki, katToRad(0), katToRad(360), false);
        c.fill();
        c.closePath();

        // Kolizje piłki ze ścianami bocznymi
        if (i &lt;= rozmiarPilki || i >= 1000 - rozmiarPilki) {
            kierunekPoziomo *= -1;
        }

        // Kolizje piłki z paletkami
        if (j >= 760 &amp;&amp; j &lt;= 770 &amp;&amp; i >= x - szerokoscPaletek / 2 &amp;&amp; i &lt;= x + szerokoscPaletek / 2) {
            kierunekPionowo = -1;
        }
        if (j &lt;= 30 &amp;&amp; j >= 20 &amp;&amp; i >= przeciwnik - szerokoscPaletek / 2 &amp;&amp; i &lt;= przeciwnik + szerokoscPaletek / 2) {
            kierunekPionowo = 1;
        }

        // Ruch przeciwnika w kierunku piłki
        przeciwnik += przeciwnik &lt; i ? predkoscPrzeciwnika : -predkoscPrzeciwnika;

        // Aktualizacja pozycji piłki
        if (!pierwszeUruchomienie) {
            predkosc += przyspieszenie;
            i += kierunekPoziomo * predkosc;
            j += kierunekPionowo * predkosc;

            // Sprawdzenie, czy piłka dotknęła górnej lub dolnej krawędzi (koniec gry)
            if (j &lt;= rozmiarPilki || j >= 800 - rozmiarPilki) {
                clearInterval(interwal);
                alert('Koniec gry!');
            }
        }
    }
}

/**
 * Inicjalizuje nową grę w Pong, ustawiając początkowe wartości.
 */
function pong() {
    i = 500;
    j = 400;
    przeciwnik = 500;
    kierunekPionowo = 0;
    kierunekPoziomo = 0;
    predkosc = 2;
    pierwszeUruchomienie = false;

    draw();
    setTimeout(() => {
        kierunekPionowo = Math.random() > 0.5 ? 1 : -1;
        kierunekPoziomo = Math.random() > 0.5 ? 1 : -1;
        interwal = setInterval(draw, 10);
    }, 1337);
}

/**
 * Aktualizuje pozycję paletki gracza na podstawie ruchu myszy.
 * @param {MouseEvent} e - Obiekt zdarzenia myszy.
 * @returns {{pozX: number, pozY: number}} - Nowa pozycja myszy.
 */
function pozycjaMyszki(e) {
    if (!e) e = window.event;
    let pozX = e.pageX - (screen.width - 1000) / 2;
    let pozY = e.pageY;

    x = pozX;
    y = pozY;

    return { pozX, pozY };
}

// Nasłuchiwanie ruchów myszy
document.onmousemove = pozycjaMyszki;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="../index.html">Home</a></h2><h3>Global</h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat Feb 08 2025 23:40:18 GMT+0100 (czas środkowoeuropejski standardowy)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
